(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2758],{60999:function(t,e,n){"use strict";n.r(e),n.d(e,{__N_SSP:function(){return l},default:function(){return p}});var r=n(39827),c=n(65455),u=n(19892),o=n(13038),i=n(12366),a=n(70079),s=n(35250);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}var l=!0;function p(t){return(0,s.jsx)(O,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach(function(e){(0,r.Z)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},t))}function O(t){let{pluginId:e,code:n,state:r,error:f,errorDesc:l}=t,p=(0,i.useRouter)(),O=(0,a.useRef)(!1);return(0,a.useEffect)(()=>{!0!==O.current&&(O.current=!0,async function(){let t="".concat(window.location.origin,"/aip/").concat(e,"/oauth/callback");try{let i=await o.Z.pluginOauthCallback(e,n,t,r);if(i.success){let t=new URL((0,u.M5)(u.LT.OAUTH_SUCCESS,i.redirect_path));t.searchParams.set("oauth_success","true"),p.push(t.toString())}else{var c;p.push((0,u.M5)(u.LT.CUSTOM_ERROR,i.redirect_path,null!==(c=i.error)&&void 0!==c?c:i.message))}}catch(t){p.push("/?model=gpt-4-plugins&loginAip=".concat(e,"&loginSuccess=false"))}}())},[e,n,r,p]),(0,a.useEffect)(()=>{f&&c.m.danger("".concat(f).concat(l?": ".concat(l):""),{duration:5})},[f,l]),(0,s.jsx)("div",{})}},19654:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/aip/[pluginId]/oauth/callback",function(){return n(60999)}])}},function(t){t.O(0,[4736,2888,9774,179],function(){return t(t.s=19654)}),_N_E=t.O()}]);
//# sourceMappingURL=callback-2b19d068846deaca.js.map